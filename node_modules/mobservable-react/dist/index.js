!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("mobservable"),require("react")):"function"==typeof define&&define.amd?define(["mobservable","react"],t):"object"==typeof exports?exports.mobservableReact=t(require("mobservable"),require("react")):e.mobservableReact=t(e.mobservable,e.react)}(this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var o,r,i;!function(){function s(e,t){function n(e){var n=t.findDOMNode(e);n&&p.set(n,e),c.emit({event:"render",renderTime:e.__renderEnd-e.__renderStart,totalTime:Date.now()-e.__renderStart,component:e,node:n})}function o(e,t){var n=e[t],o=u[t];e[t]=function(){n&&n.apply(this,arguments),o.apply(this,arguments)}}function r(e){if("function"==typeof e&&!e.prototype.render&&!e.isReactClass)return r(t.createClass({displayName:e.name,render:function(){return e.call(this,this.props)}}));if(!e)throw new Error("Please pass a valid component to 'reactiveComponent'");var n=e.prototype||e;return["componentWillMount","componentWillUnmount","componentDidMount","componentDidUpdate"].forEach(function(e){o(n,e)}),n.shouldComponentUpdate||(n.shouldComponentUpdate=u.shouldComponentUpdate),e}function i(){if("undefined"==typeof WeakMap)throw new Error("tracking components is not supported in this browser");a||(a=!0)}var s=1,a=!1,p="undefined"!=typeof WeakMap?new WeakMap:void 0,c=new e._.SimpleEventEmitter,u={componentWillMount:function(){var n=((this.displayName||this.constructor.name||"ReactiveComponent")+s++,this.render);this.render=function(){a&&(this.__renderStart=Date.now()),this.__watchDisposer&&this.__watchDisposer();var o,r=!1;return this.__watchDisposer=e.sideEffect(function(){r?t.Component.prototype.forceUpdate.call(this):(r=!0,o=n.call(this))},this),this.$mobservable=this.__watchDisposer.$mobservable,a&&(this.__renderEnd=Date.now()),o}},componentWillUnmount:function(){if(this.__watchDisposer&&this.__watchDisposer(),delete this.$mobservable,a){var e=t.findDOMNode(this);e&&(p.delete(e),c.emit({event:"destroy",component:this,node:e}))}},componentDidMount:function(){a&&n(this)},componentDidUpdate:function(){a&&n(this)},shouldComponentUpdate:function(t,n){if(this.state!==n)return!0;var o,r=Object.keys(this.props);if(r.length!==Object.keys(t).length)return!0;for(var i=r.length-1;o=r[i];i--){var s=t[o];if(s!==this.props[o])return!0;if(s&&"object"==typeof s&&!e.isReactive(s))return!0}return!1}};return{reactiveComponent:r,renderReporter:c,componentByNodeRegistery:p,trackComponents:i}}r=[n(1),n(2)],o=s,i="function"==typeof o?o.apply(t,r):o,!(void 0!==i&&(e.exports=i))}()},function(t,n){t.exports=e},function(e,n){e.exports=t}])});